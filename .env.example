# =================================================================
# App / API
# =================================================================
APP_ENV=local                    # local | prod
APP_NAME=mareon-api
PORT=8000
API_V1_PREFIX=/api/v1

# =================================================================
# Logging
# =================================================================
LOG_LEVEL=INFO               # DEBUG|INFO|WARNING|ERROR
JSON_LOGS=false

# =================================================================
# Database Configuration
# =================================================================
DB_MODE=local_url                    # local_url | cloudsql_iam

# -----------------------------------------------------------------
# Mode A: Local (Standard Connection)
# -----------------------------------------------------------------
# Provide the base connection string.
# The app will automatically handle driver selection:
#   - postgresql+asyncpg:// (App/Async)
#   - postgresql+pg8000://  (Migrations/Sync)
DATABASE_URL=postgresql://app_user:password@127.0.0.1:5432/mareon

# -----------------------------------------------------------------
# Mode B: Cloud SQL (IAM Auth)
# -----------------------------------------------------------------
# These are only used if DB_MODE=cloudsql_iam.
# Note: In Cloud Run, pass these as standard env vars.
CLOUD_SQL_INSTANCE=mareon:europe-west1:mareon-prod-db
DB_NAME=mareon
DB_IAM_USER=mareon-prod-api@mareon.iam.gserviceaccount.com
MIGRATION_IAM_USER=mareon-prod-migrations@mareon.iam.gserviceaccount.com
DB_CONNECTOR_IP_TYPE=PRIVATE     # PRIVATE | PUBLIC

# =================================================================
# SQLAlchemy Pool Settings
# =================================================================
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=true

# =================================================================
# Auth & External Services
# =================================================================
AUTH_ENABLED=FALSE
CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
CLERK_WEBHOOK_SECRET=whsec_...