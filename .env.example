# =====================================================
# App / API
# =====================================================
APP_NAME=mareon-api
APP_ENV=local                      # local | prod
PORT=8000                          # Cloud Run sets PORT automatically, local uses this
API_V1_PREFIX=/api/v1

# =====================================================
# Logging
# =====================================================
LOG_LEVEL=INFO                     # DEBUG|INFO|WARNING|ERROR
JSON_LOGS=false

# =====================================================
# Database: choose ONE mode
# =====================================================
DB_MODE=local_url                  # local_url | cloudsql_iam
DB_DRIVER_SYNC=postgresql+psycopg  # postgresql+psycopg | postgresql+pg8000

# -----------------------------------------------------
# Mode A) Local / simple URL
# These variables are also used by docker-compose.yml to configure the local database.
# -----------------------------------------------------
POSTGRES_USER=app_user
POSTGRES_PASSWORD=password
POSTGRES_DB=mareon
DATABASE_URL=postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@127.0.0.1:5432/${POSTGRES_DB}

# -----------------------------------------------------
# Mode B) Production / Cloud SQL Python Connector + IAM DB Auth
# -----------------------------------------------------
CLOUD_SQL_INSTANCE=mareon:europe-west1:mareon-prod-db
DB_NAME=mareon
DB_IAM_USER=mareon-prod-api@mareon.iam.gserviceaccount.com
DB_CONNECTOR_IP_TYPE=PRIVATE       # PRIVATE | PUBLIC

# =====================================================
# SQLAlchemy pool (overrides; your code provides defaults)
# =====================================================
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=5
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800
DB_POOL_PRE_PING=true

# =====================================================
# Auth (optional; keep minimal)
# =====================================================
AUTH_ENABLED=true
CLERK_SECRET_KEY=sk_live_m7MDuHmVAUxpjL7Y64aJTFyKeY3wPjQGw49BnBR2bw
CLERK_PUBLISHABLE_KEY=pk_live_Y2xlcmsubWFyZW9uLmFwcCQ
CLERK_WEBHOOK_SECRET=whsec_LVC/nCHm/3JL6rmo/L8r7MMU8Cn7CBBh